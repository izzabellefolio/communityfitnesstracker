<div class="container mt-4">

  <!-- HEADER -->
  <div class="card shadow-lg border-0 mb-4 header-card">
    <div class="card-body p-4 d-flex justify-content-between align-items-center">

      <div>
        <a routerLink="/routines" class="back-link">â† Back</a>

        <h2 class="fw-bold mt-2 mb-1">ğŸ“‹ Premade Templates</h2>

        <small class="opacity-75">
          Choose from our collection of ready-made routines
        </small>
      </div>

    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="text-center py-5">
    <div class="spinner-border text-primary"></div>
    <p class="mt-3 text-muted">Loading routines...</p>
  </div>

  <!-- Empty State -->
  <div *ngIf="!loading && premadeRoutines.length === 0" class="card card-section p-5 text-center">
    <div class="empty-icon mb-3">ğŸ“­</div>
    <h4 class="fw-bold text-dark">No Routines Available</h4>
    <p class="text-muted">Come back soon for new routine templates!</p>
  </div>

  <!-- Routine Cards Grid -->
  <div *ngIf="!loading && premadeRoutines.length > 0" class="row g-4">
    <div *ngFor="let routine of premadeRoutines" class="col-md-6 col-lg-4">
      <div class="card card-section fade-in h-100 d-flex flex-column">
        <div class="card-body flex-grow-1">
          <h5 class="card-title fw-bold mb-2">{{ routine.name }}</h5>
          <p class="text-muted small mb-3" *ngIf="routine.description">{{ routine.description }}</p>

          <div class="small mb-3">
            <div class="mb-2">
              <strong class="text-dark">ğŸ“… Schedule:</strong> 
              <span class="text-muted">{{ routine.schedule.join(', ') }}</span>
            </div>
            <div>
              <strong class="text-dark">â±ï¸ Time:</strong> 
              <span class="text-muted">{{ routine.time }}</span>
            </div>
          </div>

          <hr class="my-3">

          <div>
            <strong class="text-dark">ğŸ’ª Exercises ({{ routine.exercises.length }})</strong>
            <ul class="small text-muted mb-0 ps-3">
              <li *ngFor="let ex of routine.exercises">
                <span class="fw-semibold">{{ ex.name }}</span> - 
                {{ ex.sets }}x{{ ex.reps || ex.duration + 'min' }} 
                <span class="badge bg-primary ms-1" style="background: linear-gradient(to right, #457B9D, #5d9cc6) !important; font-size: 0.65rem;">{{ ex.type }}</span>
              </li>
            </ul>
          </div>
        </div>

        <div class="card-footer bg-white border-top p-3">
          <button (click)="saveToMyRoutines(routine)" class="btn w-100 btn-primary text-white fw-semibold rounded-pill"
                  style="background: linear-gradient(to right, #457B9D, #5d9cc6) !important;">
            Add to My Routines
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
/* Card Animation */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.fade-in {
  animation: fadeInUp 0.5s ease-out forwards;
}

/* Card Hover */
.card-section:hover {
  transform: translateY(-6px);
  box-shadow: 0 12px 32px rgba(69, 123, 157, 0.15) !important;
}

/* Badge and Icon Styles */
.empty-icon {
  font-size: 60px;
  opacity: 0.8;
}

.badge {
  font-size: 0.65rem;
  vertical-align: middle;
  font-weight: 600;
}
</style>

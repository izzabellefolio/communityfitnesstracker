/* Page background and container */
body {
  background: linear-gradient(180deg, #F7FBFD 0%, #EEF6F8 100%) !important;
}

/* Card base */
.card,
.alert-info,
.list-group-item {
  background: #ffffffee !important;
  border: none !important;
  border-radius: 12px !important;
  box-shadow: 0 6px 18px rgba(16, 24, 40, 0.05);
}

/* Header bar */
.card-header.bg-primary {
  background: linear-gradient(90deg, #2B7A78 0%, #457B9D 100%) !important;
  color: #fff !important;
  border-radius: 12px 12px 0 0 !important;
}

/* Dynamic current user card */
.dynamic-current {
  border-left: 6px solid rgba(69,123,157,0.18);
  padding: 18px;
}

/* Podium styles */
.podium-row { gap: 1rem; align-items: end; }
.podium-card {
  border-radius: 12px;
  padding: 18px;
  transition: transform .22s ease, box-shadow .22s ease;
  cursor: default;
  user-select: none;
  box-shadow: 0 8px 22px rgba(16,24,40,0.06);
}
.podium-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 18px 36px rgba(16,24,40,0.12);
}
.podium-1 { background: linear-gradient(180deg,#FFF7E6 0%, #FFF2D1 100%); border: 2px solid #FFD166; }
.podium-2 { background: linear-gradient(180deg,#F0F7FF 0%, #E6F3FF 100%); border: 2px solid #B6D0FF; }
.podium-3 { background: linear-gradient(180deg,#FFF0F0 0%, #FFEFEF 100%); border: 2px solid #FFB4B4; }

.podium-card .medal { font-size: 34px; }
.podium-card .name { font-weight: 700; margin-top: 6px; }
.podium-card .score { font-weight: 700; color: #2B7A78; margin-top:4px; }
.podium-card.current-user { outline: 3px solid rgba(69,123,157,0.12); }

/* Leaderboard list items */
.leaderboard-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  border-radius: 10px;
  margin-bottom: 8px;
  transition: background .15s ease, transform .15s ease;
}
.leaderboard-item:hover { transform: translateY(-2px); }

/* Rank bubble */
.rank-bubble {
  min-width: 54px;
  height: 42px;
  border-radius: 10px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  color: #fff;
  background: #457B9D;
}
/* Use getRankBadgeClass to assign different classes, but default is blue */
.badge.bg-warning { background-color: #F1FAEE !important; color: #457B9D !important; }
.badge.bg-primary { background-color: #457B9D !important; color: #fff !important; }
.badge.bg-success { background-color: #E63946 !important; color: #fff !important; }

/* Score block and relative bar */
.score-block { min-width: 220px; max-width: 320px; width: 32%; }
.points-number { font-weight: 700; color: #1B4C4A; }
.points-bar {
  height: 10px;
  background: #edf6f7;
  border-radius: 999px;
  overflow: hidden;
  margin-top: 6px;
}
.points-fill {
  height: 100%;
  background: linear-gradient(90deg, #2B7A78, #57C7B6);
  transition: width .5s ease;
}

/* Table / small rank visuals */
.rank-cell { display:flex; align-items:center; gap:8px; }
.rank-emoji { font-size:18px; }
.rank-icon-lg { font-size: 2.2rem; color: #457B9D; }

/* small helpers */
.user-name { display:flex; align-items:center; gap:8px; }
.points-number { font-size: 0.98rem; }

/* Adjust highlight color to brand (soft blue) */
.list-group-item-success,
.table-success {
  background-color: #eef7fb !important;
  border-left: 4px solid #457B9D !important;
}

/* Responsive tweaks */
@media (max-width: 767px) {
  .podium-card { padding: 12px; }
  .score-block { width: 40%; min-width: 170px; }
  .rank-bubble { min-width:44px; height:40px; }
}

/* Ensure podium cards stay in one row and have a consistent width */
.no-wrap-podium { flex-wrap: nowrap !important; overflow-x: auto; }
.podium-col { flex: 0 0 33.3333%; max-width: 33.3333%; padding-left: 0.5rem; padding-right: 0.5rem; box-sizing: border-box; }
.podium-card { min-width: 200px; } /* prevents extremely narrow cards on small screens */

/* ===== ENHANCEMENTS ===== */
/* Card lift for hover to add depth - scoped to interactive cards only */
.card:not(.podium-card):hover {
  transform: translateY(-6px);
  box-shadow: 0 18px 40px rgba(16,24,40,0.12);
  transition: transform .22s ease, box-shadow .22s ease;
}

/* Podium card refinements */
.podium-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 20px;
  min-height: 170px;
  text-align: center;
  z-index: 1;
}
.podium-card .medal {
  font-size: 44px;
  line-height: 1;
  display: block;
}
.podium-card .name {
  margin-top: 8px;
  font-size: 1.05rem;
}
.podium-card .score {
  font-size: 1.02rem;
  color: #1B4C4A;
}
.podium-card .meta { margin-top: 6px; color: #6b7280; }

/* Emphasize current user row/card */
.podium-card.current-user {
  outline: 3px solid rgba(69,123,157,0.12);
  box-shadow: 0 18px 36px rgba(69,123,157,0.08);
}

/* ensure podium cards stack visually without clipping */
.podium-row { padding-bottom: 12px; display: flex; justify-content: center; align-items: flex-end; }
.podium-col { display: flex; align-items: flex-end; justify-content: center; }

/* Semi-pyramid layout: first place taller and centered, 2nd/3rd slightly lower */
.podium-1 { z-index: 3; min-height: 240px; }
.podium-2 { z-index: 2; min-height: 190px; margin-top: 22px; }
.podium-3 { z-index: 1; min-height: 170px; margin-top: 22px; }

/* Ensure card bodies allow children to overflow when needed */
.card .card-body { overflow: visible; }

/* Rank bubble variations for better visual hierarchy */
.rank-bubble.rank-1 { background: linear-gradient(90deg,#FFD166,#FFB84D); color: #1B3a00; }
.rank-bubble.rank-2 { background: linear-gradient(90deg,#B6D0FF,#89B6FF); color: #08345a; }
.rank-bubble.rank-3 { background: linear-gradient(90deg,#FFB4B4,#FF8F8F); color: #5a0b0b; }
.rank-bubble { transition: transform .18s ease, box-shadow .18s ease; }
.rank-bubble:focus,
.rank-bubble:hover { transform: translateY(-3px); box-shadow: 0 8px 18px rgba(16,24,40,0.08); }

/* Leaderboard list item hover / focus */
.leaderboard-item {
  background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.95));
  transition: background .15s ease, transform .15s ease, box-shadow .15s ease;
}
.leaderboard-item:hover,
.leaderboard-item:focus-within {
  background: #f6fbfc;
  transform: translateY(-3px);
  box-shadow: 0 10px 20px rgba(16,24,40,0.04);
}

/* Points bar polish */
.points-bar { background: #f1f7f7; border-radius: 999px; box-shadow: inset 0 1px 0 rgba(255,255,255,0.6); }
.points-fill { background: linear-gradient(90deg, #2B7A78 0%, #57C7B6 100%); box-shadow: 0 3px 8px rgba(43,122,120,0.12); }

/* Table improvements: sticky header and subtle zebra */
.table thead th {
  position: sticky; top: 0; background: #fff; z-index: 2; box-shadow: inset 0 -1px 0 rgba(16,24,40,0.04);
}
.table tbody tr:nth-child(odd) { background: rgba(69,123,157,0.02); }

/* Mobile: stack podium vertically for readability */
@media (max-width: 767px) {
  .no-wrap-podium { flex-wrap: wrap !important; overflow-x: visible; }
  .podium-col { flex: 0 0 100%; max-width: 100%; padding-left: 0.25rem; padding-right: 0.25rem; }
  .podium-row { gap: .75rem; }
  .podium-card { min-width: auto; margin: 0 auto; }
}

/* Accessibility: focus outlines */
.btn:focus, .page-link:focus, .leaderboard-item:focus-within {
  outline: 3px solid rgba(69,123,157,0.12);
  outline-offset: 3px;
}

/* Slightly larger rank/icon on desktop */
@media (min-width: 992px) {
  .rank-icon-lg { font-size: 2.4rem; }
  .rank-bubble { min-width: 60px; height: 46px; border-radius: 12px; }
}

<div class="challenge-card h-100 shadow-sm" [class.completed]="isCompleted" [class.difficulty-easy]="challenge.difficulty === 'Easy'" [class.difficulty-medium]="challenge.difficulty === 'Medium'" [class.difficulty-hard]="challenge.difficulty === 'Hard'">
  <div class="challenge-card-inner">
    <div class="challenge-icon-container">
      <div class="icon-background">
        <span class="challenge-icon">{{ getCategoryIcon() }}</span>
      </div>
      <div class="difficulty-badge {{ challenge.difficulty.toLowerCase() }} ms-3">{{ challenge.difficulty | titlecase }}</div>
    </div>

    <h3 class="challenge-title">{{ challenge.title }}</h3>

    <p class="challenge-description">{{ challenge.description }}</p>

    <div class="challenge-info">
      <div class="points-container">
        <div class="points-label">Points</div>
        <div class="points-value">
          <span class="points-number">{{ challenge.points }}</span>
          <span class="points-text">pts</span>
        </div>
      </div>

      <div class="difficulty-indicator">
        <div class="difficulty-label">Difficulty</div>
        <div class="difficulty-dots">
          <div class="dot" [class.active]="challenge.difficulty === 'Easy'"></div>
          <div class="dot" [class.active]="challenge.difficulty === 'Medium'"></div>
          <div class="dot" [class.active]="challenge.difficulty === 'Hard'"></div>
        </div>
      </div>
    </div>

    <div class="challenge-action">
      <button *ngIf="showCompleteButton && !isCompleted" class="complete-btn" (click)="onComplete()">
        <span class="btn-icon">‚úî</span>
        <span class="btn-text">Complete</span>
      </button>

      <div *ngIf="isCompleted" class="completed-state">
        <span class="completed-icon">üèÅ</span>
        <div>
          <div class="completed-text">Completed</div>
          <div class="completed-points">+{{ challenge.points }}</div>
        </div>
      </div>
    </div>
  </div>
</div>